#include<iostream>
#include<iomanip>
using namespace std;
class sample2{
    public: void info1()
            { cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;
              cout<<setw(105)<<"The movie starts at 11:00 am"<<endl<<endl;
              cout<<setw(105)<<"Ticket price VIP = 500/-"<<endl<<endl;
              cout<<setw(105)<<"Ticket price gold class = 300/-"<<endl<<endl;
              cout<<setw(105)<<"Rating : 9.8/10"<<endl<<endl;
              cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;

            }
            void info2()
        {   cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;

            cout<<setw(105)<<"The movie starts at 1:00 pm"<<endl<<endl;
              cout<<setw(105)<<"Ticket price VIP = 500/-"<<endl<<endl;
              cout<<setw(105)<<"Ticket price gold class = 300/-"<<endl<<endl;
              cout<<setw(105)<<"Rating : 8.8/10"<<endl<<endl;
            cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;
        }
        void info3()
        {     cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;
            cout<<setw(105)<<"The movie starts at 3:00 pm"<<endl<<endl;
              cout<<setw(105)<<"Ticket price VIP = 500/-"<<endl<<endl;
              cout<<setw(105)<<"Ticket price gold class = 300/-"<<endl<<endl;
              cout<<setw(105)<<"Rating : 9.5/10"<<endl<<endl;
             cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;
        }
};
class sample : public sample2 {
int s[100],t[100],k;
public : sample()
         {
             k=0;
         }
         void display();
         void book();
         void total();
         void bill(int a[],int n);
         friend int menu();

};
void sample ::total()
{
    for(int i=0;i<k;i++)
    cout<<t[i]<<setw(2);
}
void sample ::display()
{   cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;
    cout<<setw(94)<<"SCREEN"<<endl;
    cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;
    for(int i=1;i<=100;i++)
     {

       for(int j=0;j<k;j++)
       {
        if(i==t[j])
       {
        printf("   |_ * _|  ");
        goto go;
       }
       }

        printf("   |_ %d _|  ",i);

     go: if(i==10)
       {   cout<<endl;
           cout<<endl<<setw(130)<<"----------------------------------------VIP----------------------------------------------";
       }
     if(i%10==0)
     {
        cout<<endl<<endl;
     }
     }

}
void sample ::book()
{ int n;
  cout<<setw(98)<<"Enter the number of seats to book";
  cin>>n;
  cout<<setw(100)<<"enter the seat numbers :";
  for(int b=0;b<n;b++)
{
    cin>>s[b];
}
   for(int b=0;b<n;b++)
{
   for(int i=0;i<=k;i++)
  {
      if(s[b]==t[i])
      { cout<<"the seat is already booked"<<endl;
        s[b]=00;
        break;
      }
  }
  if(s[b]!=00)
  t[k++]=s[b];

}
 bill(s,n);
}
void sample ::bill(int a[],int n)
{ int sum=0;
  cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;
  cout<<setw(104)<<"BILL"<<endl;
  cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;
  cout<<setw(98)<<"The seats selected";
  for(int i=0;i<n;i++)
  if(a[i]!=00)
  cout<<setw(4)<<a[i];
  cout<<endl;
  for(int i=0;i<n;i++)
  {
      if(a[i]==00)
      cout<<setw(114)<<" BILL CANT BE GENERATED SEAT IS TAKEN "<<endl;
      else if(a[i]<=10&&a[i]!=00)
     {cout<<setw(78)<<a[i]<<" is a VIP seat bill charges are   : 500 "<<endl;
     sum=sum+500;}
     else
     {cout<<setw(78)<<a[i]<<" is a gold class seat charges are : 300"<<endl;
       sum=sum+300;
     }


  }
cout<<setw(115)<<"TOTAL AMOUNT TO BE PAID IN RUPEES IS :"<<setw(3)<<sum<<endl;




}
sample menu(sample a,int x)
{  int ch;
    while(1)
  {  cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;
     cout<<setw(114)<<"WELCOME TO OUR BOOKING SYSTEM "<<endl;
     cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------";
     cout<<endl<<setw(105)<<"1:DISPLAY SEATING"<<endl<<setw(102)<<"2:BOOK TICKETS"<<endl<<setw(101)<<"3:MOVIE INFO "<<endl<<setw(99)<<"4:MAIN MENU"<<endl;
     cout<<setw(105)<<"Select your preference";
     cin>>ch;
     switch(ch)
     {
          case 1 : a.display();
                   break;
          case 2 : a.book();
                   break;
          case 3 :{ if(x==1)
                    a.info1();
                    else if(x==2)
                    a.info2();
                    else
                    a.info3();
                   }
                   break;
          case 4 : goto g;

          default :exit(0);
     }

  }

  g:return a;

}

int main()
{ system("COLOR F2");
  sample a[3];
  int ch;
  while(1)
  {
    cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"<<endl;
  cout<<setw(112)<<"WELCOME TO IMAX THEATERS "<<endl;
    cout<<"-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------";

    cout<<endl<<setw(105)<<"1:KGF CHAPTER 2"<<endl<<setw(103)<<"2:CHARLIE:777"<<endl<<setw(104)<<"3:VIKRANT RONA"<<endl<<endl;
    cout<<setw(104)<<"Enter the choice";
    cin>>ch;
    switch(ch)
    {
        case 1: a[0]=menu(a[0],1);
                break;
        case 2: a[1]=menu(a[1],2);
                break;
        case 3: a[2]=menu(a[2],3);
                break;
       default: exit(0);
    }
  }
   return 0;

}
